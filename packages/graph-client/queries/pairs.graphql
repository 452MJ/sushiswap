fragment PairFields on Pair {
  id
  chainId
  address
  # type
  swapFee
  # twapEnabled
  name
  token0 {
    name
    id
    decimals
    symbol
  }
  token1 {
    name
    id
    decimals
    symbol
  }
  createdAtBlockNumber
  createdAtTimestamp
  reserve0
  reserve1
  totalSupply
  reserveUSD
  reserveETH
  liquidity
  liquidityUSD
  liquidityNative
  # token0Price
  # token1Price
  volumeUSD
  volumeToken0
  volumeToken1
  feesUSD
  txCount

  hourSnapshots {
    id
    date
    volumeUSD
    liquidityUSD
    liquidityNative   
    transactionCount
  }
  daySnapshots {
    id
    date
    volumeUSD
    liquidityUSD
    liquidityNative   
    transactionCount
  }
}

fragment TimeTravelPairFields on Pair {
  id
  reserve0
  reserve1
  totalSupply
  reserveUSD
  reserveETH
  volumeUSD
  volumeToken0
  volumeToken1
  feesUSD
}



query PairOnlyId($id: ID!) {
  pair(id: $id) {
    id
  }
}

query PairsByChainId(
  $first: Int
  $skip: Int
  $where: Pair_filter
  $orderBy: Pair_orderBy
  $orderDirection: OrderDirection
  $block: Block_height
  $chainId: BigInt!
) {
  pairs: pairsByChainId(
    first: $first
    skip: $skip
    where: $where
    orderBy: $orderBy
    orderDirection: $orderDirection
    block: $block
    chainId: $chainId
  ) {
    ...PairFields
  }
}

query PairsByChainIds(
  $first: Int
  $skip: Int
  $where: Pair_filter
  $orderBy: Pair_orderBy
  $orderDirection: OrderDirection
  $block: Block_height
  $chainIds: [BigInt!]!
) {
  pairs: pairsByChainIds(
    first: $first
    skip: $skip
    where: $where
    orderBy: $orderBy
    orderDirection: $orderDirection
    block: $block
    chainIds: $chainIds
  ) {
    ...PairFields
  }
}


query V2PoolHourData($first: Int = 1000, $skip: Int, $orderBy: PairHourData_orderBy, $orderDirection: OrderDirection, $where: PairHourData_filter) {
  pairHourDatas: pairHourDatas(first: $first, skip: $skip, orderBy: $orderBy, orderDirection: $orderDirection, where: $where) {
    id
    hourStartUnix
    pair {
      id
    }

    reserve0
    reserve1
    totalSupply
    reserveUSD

    hourlyVolumeToken0
    hourlyVolumeToken1
    hourlyVolumeUSD
    hourlyTxns
  }
}


query V2PoolDayData($first: Int = 1000, $skip: Int, $orderBy: PairDayData_orderBy, $orderDirection: OrderDirection, $where: PairDayData_filter) {
  pairDayDatas: pairDayDatas(first: $first, skip: $skip, orderBy: $orderBy, orderDirection: $orderDirection, where: $where) {
    id
    date
    pairAddress

    reserve0
    reserve1
    totalSupply
    reserveUSD

    dailyVolumeToken0
    dailyVolumeToken1
    dailyVolumeUSD
    dailyTxns
  }
}


query PairById($id: ID!) {
  pair: pairById(id: $id) {
    ...PairFields
    liquidity1dChange
    liquidity1wChange
    volume1d
    volume1dChange
    volume1w
    fees1d
    fees1dChange
    fees1w
    txCount1d
    txCount1dChange
    txCount1w
    feeApr
  }
}

query V2Transactions($first: Int = 100, $skip: Int = 0, $orderBy: Transaction_orderBy = timestamp, $orderDir: OrderDirection = desc, $where: Transaction_filter) {
  transactions: v2Transactions(first: $first, skip: $skip, orderBy: $orderBy, orderDirection: $orderDir, where: $where) {
    id
    createdAtTimestamp: timestamp
    createdAtBlock: blockNumber
    mints {
      id
      sender
      liquidity
      amount0
      amount1
      amountUSD
      logIndex
    }
    burns {
      id
      sender
      liquidity
      amount0
      amount1
      amountUSD
      logIndex
    }
    swaps {
      id
      sender
      to
      amount0In
      amount1In
      amount0Out
      amount1Out
      amountUSD
      logIndex
    }
  }
}

query V2Burns($first: Int = 100, $skip: Int = 0, $orderBy: Burn_orderBy = timestamp, $orderDir: OrderDirection = desc, $where: Burn_filter) {
  burns: v2Burns(first: $first, skip: $skip, orderBy: $orderBy, orderDirection: $orderDir, where: $where) {
    id
    sender
    liquidity
    amount0
    amount1
    amountUSD
    logIndex
    transaction {
      id
      createdAtTimestamp: timestamp
      createdAtBlock: blockNumber
    }
  }
}

query V2Mints($first: Int = 100, $skip: Int = 0, $orderBy: Mint_orderBy = timestamp, $orderDir: OrderDirection = desc, $where: Mint_filter) {
  mints: v2Mints(first: $first, skip: $skip, orderBy: $orderBy, orderDirection: $orderDir, where: $where) {
    id
    sender
    liquidity
    amount0
    amount1
    amountUSD
    logIndex
    transaction {
      id
      createdAtTimestamp: timestamp
      createdAtBlock: blockNumber
    }
  }
}

query V2Swaps($first: Int = 100, $skip: Int = 0, $orderBy: Swap_orderBy = timestamp, $orderDir: OrderDirection = desc, $where: Swap_filter) {
  swaps: v2Swaps(first: $first, skip: $skip, orderBy: $orderBy, orderDirection: $orderDir, where: $where) {
    id
    sender
    to
    amount0In
    amount1In
    amount0Out
    amount1Out
    amountUSD
    logIndex
    transaction {
      id
      createdAtTimestamp: timestamp
      createdAtBlock: blockNumber
    }
  }
}
